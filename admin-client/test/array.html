<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        /*
        map()//创建一个新数组
        reduce()
        filter()
        find()
        findIndex()
        every()
        some()
        */    
        //map创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。
        Function.prototype.map = function(callback){
            let result = [];

            for(let i=0;i<this.length;i++){
                result.push(callback(this[i],i));
            }

            return result;
        }
        
        const arr = [1,3,4,5,7,8];
        var arr2 = arr.map((item,index)=>{
            if(index%2===0){
                return item + 10;
            }else {
                return item + 20;
            }
        })
        console.log(arr2)

        //reduce() 方法对数组中的每个元素执行一个由您提供的reducer函数(升序执行)，将其结果汇总为单个返回值。

        Function.prototype.reduce = function(callback,initValue){
            let total = initValue;
            for(let i=0;i<this.length;i++){
                total = callback(total,this[i],i)
            }
            return total;
        }

        var result = arr.reduce((pre,item,index)=>{
            if(index%2===1 &&item%2===1){
                pre += item;
            }
            return pre
        },0)
        console.log(result)

        //filter() 方法创建一个新数组, 其包含通过所提供函数实现的测试的所有元素。 
        Function.prototype.filter = function(callback){
            let result = [];
            for(let i=0;i<this.length;i++){
                if(callback(total,this[i],i)){
                    result.push(this[i])
                }
            }
            return result;
        }

        result = arr.filter((item,index)=>{
            return index%2===1 &&item%2===1
        })
        console.log(result)

        //find() 方法返回数组中满足提供的测试函数的第一个元素的值。否则返回 undefined。
        Function.prototype.find = function(callback){
            for(let i=0;i<this.length;i++){
                if(callback(this[i],i)){
                    return this[i]
                }
            }
        }

        result = arr.find((item,index)=>{
            return index%2===1 &&item%2===1
        })
        console.log(result)

        //findIndex()方法返回数组中满足提供的测试函数的第一个元素的索引。否则返回-1。
        Function.prototype.findIndex = function(callback){
            for(let i=0;i<this.length;i++){
                if(callback(this[i],i)){
                    return i
                }
            }
            return -1;
        }
        result = arr.findIndex((item,index)=>{
            return index%2===1 &&item%2===1
        })
        console.log(result)

        //every() 方法测试一个数组内的所有元素是否都能通过某个指定函数的测试。它返回一个布尔。
        Function.prototype.every = function(callback){
            for(let i=0;i<this.length;i++){
                if(!callback(this[i],i)){
                    return false;
                }
            }
            return true;
        }
        result = arr.every((item,index)=>{
            return index%2===1 &&item%2===1
        })
        console.log(result)
        //some() 方法测试数组中是不是有元素通过了被提供的函数测试。它返回的是一个Boolean类型的值。
        Function.prototype.some = function(callback){
            for(let i=0;i<this.length;i++){
                if(callback(this[i],i)){
                    return true;
                }
            }
            return false;
        }
        result = arr.some((item,index)=>{
            return index%2===1 &&item%2===1
        })
        console.log(result)

    </script>
</body>
</html>